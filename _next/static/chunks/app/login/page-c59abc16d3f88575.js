(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{6834:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var l=t(5155),r=t(8999),a=t(2115);let i="Ov23li965hWhr2hQhk5P";i||console.error("GitHub Client ID is empty. OAuth will not work.");let n="https://github.com/login/oauth/authorize?client_id=".concat(i,"&scope=user:email"),c=async e=>{try{let s=await fetch("/api/github-auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!s.ok)throw Error("Failed to get GitHub user");return await s.json()}catch(e){throw console.error("Error getting GitHub user:",e),e}};var o=t(6874),g=t.n(o);function x(){let e=(0,r.useRouter)(),s=(0,r.useSearchParams)().get("code"),[t,i]=(0,a.useState)(!1),o=(0,a.useCallback)(async s=>{try{i(!0);let t=await c(s);localStorage.setItem("user",JSON.stringify(t)),e.push("/Login")}catch(e){console.error("Login failed:",e)}finally{i(!1)}},[e]);return(0,a.useEffect)(()=>{s&&o(s)},[s,o]),(0,l.jsxs)("div",{className:"min-h-screen flex flex-col lg:flex-row",children:[(0,l.jsx)("div",{className:"hidden lg:flex lg:w-1/2 relative",children:(0,l.jsx)("img",{src:"/Login/image3.png",alt:"Background",className:"absolute inset-0 w-full h-full object-cover"})}),(0,l.jsx)("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center px-4 py-8 lg:px-16 xl:px-24",children:(0,l.jsxs)("div",{className:"w-full max-w-sm lg:max-w-md",children:[(0,l.jsxs)("div",{className:"text-center mb-6 lg:mb-8",children:[(0,l.jsx)("img",{src:"/Login/image1.png",alt:"Bytebase Logo",width:160,height:40,className:"mx-auto mb-4 lg:mb-6 w-32 lg:w-40"}),(0,l.jsx)("h1",{className:"text-xl lg:text-2xl font-semibold mb-2",children:"欢迎"}),(0,l.jsx)("p",{className:"text-sm lg:text-base text-gray-600",children:"登录 Bytebase 以继续使用 Bytebase Hub。"})]}),(0,l.jsxs)("div",{className:"space-y-3 lg:space-y-4",children:[(0,l.jsxs)("button",{onClick:()=>{},className:"w-full flex items-center justify-center gap-2 lg:gap-3 px-3 lg:px-4 py-2.5 lg:py-3 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors text-sm lg:text-base",children:[(0,l.jsx)("img",{src:"/Login/google.png",alt:"Google",width:18,height:18,className:"lg:w-5 lg:h-5"}),(0,l.jsx)("span",{children:"继续使用 Google"})]}),(0,l.jsxs)("button",{onClick:()=>window.location.href=n,disabled:t,className:"w-full flex items-center justify-center gap-2 lg:gap-3 px-3 lg:px-4 py-2.5 lg:py-3 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors text-sm lg:text-base",children:[(0,l.jsx)("img",{src:"/Login/github.png",alt:"GitHub",width:18,height:18,className:"lg:w-5 lg:h-5"}),(0,l.jsx)("span",{children:t?"登录中...":"继续使用 GitHub"})]}),(0,l.jsxs)("button",{onClick:()=>{},className:"w-full flex items-center justify-center gap-2 lg:gap-3 px-3 lg:px-4 py-2.5 lg:py-3 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors text-sm lg:text-base",children:[(0,l.jsx)("img",{src:"/Login/microsoft.png",alt:"Microsoft",width:18,height:18,className:"lg:w-5 lg:h-5"}),(0,l.jsx)("span",{children:"继续使用 Microsoft Account"})]}),(0,l.jsxs)("div",{className:"relative my-6 lg:my-8",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,l.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,l.jsx)("div",{className:"relative flex justify-center text-xs lg:text-sm",children:(0,l.jsx)("span",{className:"px-4 bg-white text-gray-500",children:"或"})})]}),(0,l.jsxs)("form",{className:"space-y-3 lg:space-y-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"email",placeholder:"电子邮件地址*",className:"w-full px-3 lg:px-4 py-2.5 lg:py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6938EF] focus:border-transparent text-sm lg:text-base",required:!0})}),(0,l.jsx)("button",{type:"submit",className:"w-full py-2.5 lg:py-3 px-3 lg:px-4 bg-[#6938EF] text-white rounded-md hover:bg-[#5F31E1] transition-colors text-sm lg:text-base",children:"继续"})]}),(0,l.jsxs)("p",{className:"text-center text-xs lg:text-sm text-gray-600 mt-6 lg:mt-8",children:["没有帐户？"," ",(0,l.jsx)(g(),{href:"/register",className:"text-[#6938EF] hover:underline",children:"注册"})]})]})]})})]})}function d(){return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:(0,l.jsx)(x,{})})}},7720:(e,s,t)=>{Promise.resolve().then(t.bind(t,6834))}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=7720)),_N_E=e.O()}]);